{% load staticfiles %}
{% load bootstrap %}
{% load bootstrap3 %}
 <!-- FlatFy Theme - Andrea Galanti /-->
<!doctype html>
<!--[if lt IE 7]> <html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if IE 9]>    <html class="no-js ie9" lang="en"> <![endif]-->
<!--[if gt IE 9]><!--> <html> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0">
    <meta name="description" content="Flatfy Free Flat and Responsive HTML5 Template ">
    <meta name="author" content="">

    <title>Stock Market Prediction</title>

    <!-- Bootstrap core CSS -->
    <link href="{% static "css/bootstrap.min.css" %}" rel="stylesheet">
 
    <!-- Custom Google Web Font -->
    <link href="{% static "font-awesome/css/font-awesome.min.css" %}" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Lato:100,300,400,700,900,100italic,300italic,400italic,700italic,900italic' rel='stylesheet' type='text/css'>
	<link href='http://fonts.googleapis.com/css?family=Arvo:400,700' rel='stylesheet' type='text/css'>
	
    <!-- Custom CSS-->
    <link href="{% static "css/general.css" %}" rel="stylesheet">
	
	 <!-- Owl-Carousel -->
    <link href="{% static "css/custom.css" %}" rel="stylesheet">
    <link href="{% static "css/owl.carousel.css" %}" rel="stylesheet">
    <link href="{% static "css/owl.theme.css" %}" rel="stylesheet">
    <link href="{% static "css/style.csss" %}" rel="stylesheet">
    <link href="{% static "css/animate.css" %}" rel="stylesheet">
	
	<!-- Magnific Popup core CSS file -->
	<link rel="stylesheet" href="{% static "css/magnific-popup.css" %}"> 
	
	<script src="{% static "js/modernizr-2.6.2.min.js" %}"></script>  <!-- Modernizr /-->
</head>

<body id="home" onload="start()">

	<!-- Preloader -->
	<div id="preloader">
		<div id="status"></div>
	</div>
	
	<!-- FullScreen -->
    <div class="intro-header">

		<div class="col-xs-12 text-center abcen1">
            <br><br><br><br><br>
			<h2 id = "heading" class="h2_home wow fadeIn" data-wow-delay="0.4s">MICROSOFT</h2><br><br>
			<ul class="list-inline intro-social-buttons">
				<li >
                    <button id = "prev" class="btn  btn-lg mybutton_standard wow swing wow fadeIn" data-wow-delay="1.2s" style="width:200px; height:150px; background-color:rgba(255,255,255,0)"></button>
                    <br><br>
                    <span class="network-name">Previous Stock</span>
				</li>
                <li >
                    <button id = "predicted" class="btn  btn-lg mybutton_standard wow swing wow fadeIn" data-wow-delay="1.2s" style="width:200px; height:150px; background-color:rgba(255,255,255,0)"></button>
                <br><br>
                <span class="network-name">Predicted Stock</span>
                </li>
                <li >
                    <button id = "actual" class="btn  btn-lg mybutton_standard wow swing wow fadeIn" data-wow-delay="1.2s" style="width:200px; height:150px; background-color:rgba(255,255,255,0)"></button>
                    <br><br>
                    <span class="network-name">Actual Stock</span>
                </li>
			</ul>
		</div>    


        <!-- /.container -->
    </div>


    <!-- JavaScript -->
    <script src="{% static "js/jquery-1.10.2.js" %}"></script>
    <script src="{% static "js/bootstrap.js" %}"></script>
    <script src="{% static "js/owl.carousel.j" %}"></script>
    <script src="{% static "js/script.js" %}"></script>

	<!-- StikyMenu -->
	<script src="{% static "js/stickUp.min.js" %}"></script>
	<script type="text/javascript">
	  jQuery(function($) {
		$(document).ready( function() {
		  $('.navbar-default').stickUp();
		  
		});
	  });
	
	</script>

    <script type="text/javascript">

        var i = 0;

        var hidden_weights = [[-0.094736582814206993, -0.2904444740212318, 0.64406042820451226], [0.72237036534381915, -0.79779739684972628, -0.088077709663897372], [-0.8393137116084437, 0.59446004430081056, -0.90111788274615556], [0.096539871677772671, -0.65327507757235326, 0.6841269945036611], [-0.67162015347189674, -0.61118920944738631, -0.65162627930829298], [-0.39036129441750711, 0.17100905104735434, 0.18127899741863956], [-0.64444244282858465, -0.762970071380626, 0.22773473035343403], [-0.17914120810103368, 0.58433087364451564, -0.62345223926328819], [-0.034571922274479333, 0.53094581045025746, -0.18475097227301365], [0.14808152229726088, -0.77481162850698015, 0.55914142659792898], [0.22980634937717082, -0.52915746122739704, -0.2721223676192846], [-0.26628970074663055, -0.10466298125999804, -0.075372794194226198], [0.8175671628553195, -0.049112079321684876, 0.66269763248393976], [-0.13486158146716906, 0.3406629430278032, 0.53346939197259946], [0.40248011178379406, 0.60658511584831076, -0.98635052464871353]]; 


        var input_weights = [[0.58586936165437953, 0.83970781323896515, -0.7159446346963646, 0.74176128084200188, 0.011266540157256108, 0.1923607386638008, -0.39193813226917151, 0.37239951983877484, -0.026591797819110956, 0.31305360881468203, -0.32790133444016761, 0.22176786115320801, -0.47916620318591174, -0.39538816120458797, 0.0097527166814134793], [0.68338499411644582, 0.90469113393676281, 0.49589466791688708, 0.32775800521810411, 0.69143485821582151, -0.89700147860080381, -0.33093601843071796, -0.059977012794881553, 0.50981743909221133, -0.34376702403023779, 0.56346217400794973, 0.010031300253402698, -0.35207900047112101, 0.084547244527497539, 0.24423810607490576], [-0.10658314232512163, -0.33546294249767455, -0.21106177861624206, 0.2894685866415227, 0.65887635629403563, 0.64796014359235277, -0.69634996342430244, 0.02961655726903192, 0.19902210340052739, 0.72560329281297931, 0.68145667441565505, 0.74563357041392286, 0.36450930088152528, 0.28180070222849762, 0.64652283246024145], [-0.14931060589427347, 0.69184795541116861, 0.75119575426154683, -0.89835012693117089, 0.25272525403170748, -0.32082658563602406, -0.43197869050925936, 0.62341358850384421, 0.18884214078385533, -0.59934417994358546, -0.66001772378906232, 0.2167617784154578, 0.21987796831298378, 0.5345632434061528, -0.37575126593994951], [0.11541904912949319, -0.86683602171351826, -0.65260569573182514, -0.3661029206629714, -0.17140905809935597, 0.40614804904527113, 0.18693484834765786, -0.36748946868692295, 0.38086786319705473, -0.31467275344630724, 0.10650642626289529, -0.72748194020797974, 0.83759754095889871, 0.75326797647065746, 0.86900329918127983], [0.13419758304107929, -0.62747715378589719, 0.62726804585642582, 0.024240234538367361, -0.69826257872353636, 0.072013738982127276, -0.54520230666361613, 0.35664448544291139, 0.71537045257858878, 0.029418274787461712, -0.069241010022669497, 0.45242577376490728, 0.38198395114083572, 0.010734422569545026, 0.24046368720024405], [0.16248226306222877, -0.59004068156310141, -0.61728827498313599, 0.24788667251407148, 0.53001201565413558, 0.48233319810450875, 0.46018955307259718, 0.22077218966384476, -0.80922615589736402, -0.58184784870474182, 0.50161318876890415, 0.079537284993786012, -0.1899631693200014, -0.54840464912584908, -0.014309948648900173], [-0.79692956120436875, 0.18740002472471376, 0.30538411473216764, -0.7231657355195602, -0.68571375948782143, -0.2518089494952313, -0.6188229466086006, 0.25534504555169574, 0.83088556941922165, -0.58145842235547673, -0.41336084510729454, 0.65374976147049713, -0.011401457246745591, -0.23710557620581191, 0.66427412664164154], [-0.84088691828975015, -0.31813512095609736, -0.47266402918599743, -0.28248542703280693, -0.21212505042719768, 0.77982949862305473, -0.39028197070630816, 0.79150157223033424, -0.28595549274113191, 0.069183601950437157, 0.2729453070043627, -0.12176596728049641, 0.35883481018833779, -0.44196044633505382, -0.88465668624469662], [-0.2839482552081346, -0.69934248904966245, 0.84581590724550848, 0.2236793230619506, 0.0044206462432733193, 0.74991560228406284, 0.10187781428547939, 0.81751157651554118, 0.7566540158994004, 0.37517153975900885, 0.89007720036920179, -0.15412980966994072, 0.88875546806118588, 0.62246123060047254, -0.24954873397774213]]; 

        function update(){
            i+=1;
            var target = "/stock/msft_update" + "/" + String(i) + "/";
            var jsondata = { input : input_weights, hidden : hidden_weights };
            $.ajax({

                type : "POST",
                url : target,
                data : jsondata,
                success : function (data) {

                    $("#prev").html(data["prev"]);
                    $("#predicted").html(data["pred"]);
                    $("#actual").html(data["right"]);
                    
                    for (var j = 0; j < 15; j++)
                        for (var k = 0; k < 3; k++)
                            hidden_weights[j][k] = data["hidden_layer"][j][k]

                    for (var j = 0; j < 10; j++)
                        for (var k = 0; k < 15; k++)
                            input_weights[j][k] = data["input_weights"][j][k]

                }
            });

            setTimeout(function(){
                if (i < 1000){
                    update()}
                else
                    {
                        $("#prev").html("");
                        $("#predicted").html("");
                        $("#actual").html("");
                        $("#heading").html("Thank you for visiting");

                    }}, 1000);
        }


    function start(){
        setTimeout(function(){
                update()}, 3000);
    }



    </script>

	<!-- Smoothscroll -->
	<script type="text/javascript" src="{% static "js/jquery.corner.js" %}"></script> 
	<script src="{% static "js/wow.min.js" %}"></script>
	<script>
	 new WOW().init();
	</script>
	<script src="{% static "js/classie.js" %}"></script>
	<script src="{% static "js/uiMorphingButton_inflow.js" %}"></script>
	<!-- Magnific Popup core JS file -->
	<script src="{% static "js/jquery.magnific-popup.js" %}"></script> 


</body>

</html>
